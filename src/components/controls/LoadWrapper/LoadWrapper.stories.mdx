import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { text } from '@storybook/addon-knobs';
import LoadWrapper from '.';

<Meta title="Controls / LoadWrapper" component={LoadWrapper} />

# LoadWrapper

<Story
    name="Controls"
    args={{
        isLoading: false,
        error: '',
        isEmpty: false,
        emptyMessage: '',
    }}
    argTypes={{ isEmpty: { control: 'boolean' } }}
>
    {args => (
        <LoadWrapper {...args}>
            <div>Hello, {text('name', 'World')}!</div>
        </LoadWrapper>
    )}
</Story>

`LoadWrapper` - —ç—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –æ–±—ë—Ä—Ç–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã–µ –∏–∑ Redux store. –¢.–µ. –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–Ω –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç —Ñ–∞–∫—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –¥–∞–Ω–Ω—ã—Ö –≤ —Å—Ç–æ—Ä–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–≤—è–∑–∫–µ data + error + loading –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–ª–µ–¥—É—é—â–∏—Ö –∫–µ–π—Å–æ–≤:

1. –ò–¥—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∞
1. –í–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞
1. –î–∞–Ω–Ω—ã–µ –ø—É—Å—Ç—ã–µ
1. –î–∞–Ω–Ω—ã–µ –ø—Ä–∏—à–ª–∏

–î–∞–Ω–Ω—ã–µ –∏–∑ —Å—Ç–æ—Ä–∞ —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `mapStateToProps`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏ –¥–æ–±—Ä–æ–ø–æ—Ä—è–¥–æ—á–Ω–æ–º –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ä–µ–¥—É—Å–µ—Ä–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—è data (–Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º –∏ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ), error, loading. –ü–æ–ª—è error –∏ loading –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –ø—Ä–æ–ø—Å—ã `error`, `isLoading`, –∞ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –¢–∞–∫–∂–µ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ø—É—Å—Ç–æ—Ç—É —á–µ—Ä–µ–∑ `isEmpty`.

## Props

<ArgsTable story="Controls" />

## Use cases

### Success

‚úÖ isLoading = false, error = undefined -> –≤—ã–≤–æ–¥–∏—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

<Canvas>
    <Story name="Success">
        <LoadWrapper isLoading={false} error={undefined}>
            <div>Hello, World!</div>
        </LoadWrapper>
    </Story>
</Canvas>

### Loading

‚è± isLoading = true, error = undefined -> –≤—ã–≤–æ–¥–∏—Ç—Å—è `Loader`.

<Canvas>
    <Story name="Loading">
        <LoadWrapper isLoading error={undefined}>
            <div>Hello, World!</div>
        </LoadWrapper>
    </Story>
</Canvas>

### Error

‚õî isLoading = false, error = "some error" -> –≤—ã–≤–æ–¥–∏—Ç—Å—è —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏.

<Canvas>
    <Story name="Error">
        <LoadWrapper isLoading={false} error="Something went wrong">
            <div>Hello, World!</div>
        </LoadWrapper>
    </Story>
</Canvas>

### Empty (no message)

üö´ isLoading = false, error = undefined, isEmpty = true -> –Ω–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è –Ω–∏—á–µ–≥–æ.

<Canvas>
    <Story name="Empty (no message)">
        {() => {
            const name = undefined;
            return (
                <LoadWrapper isLoading={false} error={undefined} isEmpty={!name}>
                    <div>Hello, {name}!</div>
                </LoadWrapper>
            );
        }}
    </Story>
</Canvas>

### Empty (with message)

üö´ isLoading = false, error = undefined, isEmpty = true, emptyMessage = "some message" -> –≤—ã–≤–æ–¥–∏—Ç—Å—è –∑–∞–¥–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç.

<Canvas>
    <Story name="Empty (with message)">
        {() => {
            const name = undefined;
            const EmptyMessage = () => <div>Prop &quot;name&quot; is not defined</div>;
            return (
                <LoadWrapper isLoading={false} error={undefined} isEmpty={!name} emptyMessage={<EmptyMessage />}>
                    <div>Hello, {name}!</div>
                </LoadWrapper>
            );
        }}
    </Story>
</Canvas>
