import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { useState } from 'react';
import Media from 'react-media';
import Accordion from '@components/controls/Accordion';
import Tabs from '.';

<Meta title="Controls / Tabs" component={Tabs} />

# Tabs

<Story name="Uncontrolled mode">
    <Tabs defaultIndex={0}>
        <Tabs.List>
            <Tabs.Tab>Title 1</Tabs.Tab>
            <Tabs.Tab>Title 2</Tabs.Tab>
            <Tabs.Tab>Title 3</Tabs.Tab>
            <Tabs.Tab count={1}>Title 4</Tabs.Tab>
            <Tabs.Tab marker>Title 5</Tabs.Tab>
            <Tabs.Tab disabled count={2}>
                Title 6
            </Tabs.Tab>
            <Tabs.Tab disabled marker>
                Title 7
            </Tabs.Tab>
        </Tabs.List>
        <Tabs.Panel>Panel 1</Tabs.Panel>
        <Tabs.Panel>Panel 2</Tabs.Panel>
        <Tabs.Panel>Panel 3</Tabs.Panel>
        <Tabs.Panel>Panel 4</Tabs.Panel>
        <Tabs.Panel>Panel 5</Tabs.Panel>
        <Tabs.Panel>Panel 6</Tabs.Panel>
        <Tabs.Panel>Panel 7</Tabs.Panel>
    </Tabs>
</Story>

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–ª–∞–≥–∏–Ω: [react-tabs](https://github.com/reactjs/react-tabs).

–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: [WAI-ARIA](https://www.w3.org/TR/wai-aria-practices/#tabpanel)

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∞–∫–∫–æ—Ä–¥–µ–æ–Ω–æ–≤, –ø–ª–∞–≥–∏–Ω –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å controlled mode, —Ç–∞–±—ã –º–æ–≥—É—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –≤ 2-—Ö —Ä–µ–∂–∏–º–∞—Ö: **uncontrolled** –∏ **controlled**.

–í **uncontrolled** —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **defaultIndex** –∏ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º —á–µ—Ä–µ–∑ **onSelect**, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–∞–∫–æ–µ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ. –í–µ—Å—å –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç —Å—Ç–µ–π—Ç–æ–º –¥–µ–ª–∞–µ—Ç—Å—è –ø–ª–∞–≥–∏–Ω–æ–º –≤–Ω—É—Ç—Ä–∏, —Ç–∞–∫ —á—Ç–æ –æ–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

–í **controlled** —Ä–µ–∂–∏–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–µ–π—Ç–æ–º –ª–æ–∂–∏—Ç—Å—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–∞–∫ —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–≤–æ–π —Å—Ç–µ–π—Ç —á–µ—Ä–µ–∑ **useState**, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Å–µ—Ç—Ç–µ—Ä –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ **selectedIndex** –∏ **onSelect** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∞–∫–∫–æ—Ä–¥–µ–æ–Ω–æ–≤ —Ç–∞–±—ã –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è. –î–µ–ª–∞–µ—Ç—Å—è —ç—Ç–æ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–æ–ø—Å–∞ **disabled** –Ω—É–∂–Ω–æ–º—É **Tabs.Tab**.

‚òùüèø –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ç–∞–±–æ–≤ –Ω–∞ SSR –Ω—É–∂–Ω–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —Å–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞ –¥–ª—è –º–∞—Ç—á–∏–Ω–≥–∞ id –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –∫–ª–∏–µ–Ω—Ç–æ–º. –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤—ã–∑–æ–≤ **resetIdCounter** (—Å–º. [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](https://github.com/reactjs/react-tabs#resetidcounter-void)).

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Ç–∞–±—ã –º–µ–Ω—è–ª–∏ —É—Ä–ª –∏ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ–π –≤–∫–ª–∞–¥–∫–µ –≤ —É—Ä–ª, —Ç–æ –∏—Å–æ–ø–ª—å–∑—É–π —Ö—É–∫ useTabs (–ª–µ–∂–∏—Ç –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö)

## Props

<ArgsTable components={{ Tabs, 'Tabs.List': Tabs.List, 'Tabs.Tab': Tabs.Tab, 'Tabs.Panel': Tabs.Panel }} />

## Use cases

### Controlled mode

<Canvas>
    <Story name="Controlled mode">
        {() => {
            const Example = () => {
                const [selectedIndex, setSelectedIndex] = useState(0);
                return (
                    <Tabs selectedIndex={selectedIndex} onSelect={setSelectedIndex}>
                        <Tabs.List>
                            <Tabs.Tab>Title 1</Tabs.Tab>
                            <Tabs.Tab>Title 2</Tabs.Tab>
                            <Tabs.Tab disabled>Title 3</Tabs.Tab>
                            <Tabs.Tab>Title 4</Tabs.Tab>
                        </Tabs.List>
                        <Tabs.Panel>Panel 1</Tabs.Panel>
                        <Tabs.Panel>Panel 2</Tabs.Panel>
                        <Tabs.Panel>Panel 3</Tabs.Panel>
                        <Tabs.Panel>Panel 4</Tabs.Panel>
                    </Tabs>
                );
            };
            return <Example />;
        }}
    </Story>
</Canvas>

### Adaptive accordion

–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –ø–µ—Ä–µ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–∑ —Ç–∞–±–æ–≤ –≤ –∞–∫–∫–æ—Ä–¥–µ–æ–Ω –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, –Ω–æ –º—ã –º–æ–∂–µ–º –∑–∞–º–µ–Ω—è—Ç—å –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ –¥—Ä—É–≥–æ–π —á–µ—Ä–µ–∑ **Media**, –∏—Å–ø–æ–ª—å–∑—É—è –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –µ–¥–∏–Ω—ã–π —Å—Ç–µ–π—Ç.

–ê–∫–∫–æ—Ä–¥–µ–æ–Ω –ø—Ä–∏ —ç—Ç–æ–º –¥–æ–ª–∂–µ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –≤ —Ä–µ–∂–∏–º–µ, –∑–∞–ø—Ä–µ—â–∞—é—â–µ–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∞–±–æ–≤ –∏–ª–∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö, —Ç.–∫. –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –ª–æ–≥–∏–∫–µ —Ä–∞–±–æ—Ç—ã —Ç–∞–±–æ–≤.

<Canvas>
    <Story name="Adaptive accordion">
        {() => {
            const Example = () => {
                const [selectedIndex, setSelectedIndex] = useState(0);
                return (
                    <Media query={{ maxWidth: 767 }}>
                        {matches =>
                            matches ? (
                                <Accordion
                                    preExpanded={[selectedIndex]}
                                    onChange={ids => setSelectedIndex(ids[0])}
                                    allowMultipleExpanded={false}
                                    allowZeroExpanded={false}
                                >
                                    <Accordion.Item uuid={0}>
                                        <Accordion.Heading>
                                            <Accordion.Button>Title 1</Accordion.Button>
                                        </Accordion.Heading>
                                        <Accordion.Panel>Panel 1</Accordion.Panel>
                                    </Accordion.Item>
                                    <Accordion.Item uuid={1}>
                                        <Accordion.Heading>
                                            <Accordion.Button>Title 2</Accordion.Button>
                                        </Accordion.Heading>
                                        <Accordion.Panel>Panel 2</Accordion.Panel>
                                    </Accordion.Item>
                                    <Accordion.Item uuid={2}>
                                        <Accordion.Heading>
                                            <Accordion.Button>Title 3</Accordion.Button>
                                        </Accordion.Heading>
                                        <Accordion.Panel>Panel 3</Accordion.Panel>
                                    </Accordion.Item>
                                    <Accordion.Item uuid={3}>
                                        <Accordion.Heading>
                                            <Accordion.Button>Title 4</Accordion.Button>
                                        </Accordion.Heading>
                                        <Accordion.Panel>Panel 4</Accordion.Panel>
                                    </Accordion.Item>
                                </Accordion>
                            ) : (
                                <Tabs selectedIndex={selectedIndex} onSelect={setSelectedIndex}>
                                    <Tabs.List>
                                        <Tabs.Tab>Title 1</Tabs.Tab>
                                        <Tabs.Tab>Title 2</Tabs.Tab>
                                        <Tabs.Tab>Title 3</Tabs.Tab>
                                        <Tabs.Tab>Title 4</Tabs.Tab>
                                    </Tabs.List>
                                    <Tabs.Panel>Panel 1</Tabs.Panel>
                                    <Tabs.Panel>Panel 2</Tabs.Panel>
                                    <Tabs.Panel>Panel 3</Tabs.Panel>
                                    <Tabs.Panel>Panel 4</Tabs.Panel>
                                </Tabs>
                            )
                        }
                    </Media>
                );
            };
            return <Example />;
        }}
    </Story>
</Canvas>
