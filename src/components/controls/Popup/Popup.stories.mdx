import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { action } from '@storybook/addon-actions';
import { useState } from 'react';
import * as Yup from 'yup';

import { Button, scale } from '@scripts/gds';
import Form from '@components/controls/Form';
import Modal from '@components/controls/Modal';
import Popup from '.';
import './styles.scss';

<Meta title="Controls / Popup" component={Popup} />

# Popup

<Story
    name="Controls"
    args={{
        title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫',
        isCloseButton: true,
        isFullscreen: false,
        rightHanded: true,
        leftHanded: false,
        scrollInside: false,
        popupCss: {},
    }}
    argTypes={{
        popupCss: {
            description: '–°—Ç–∏–ª–∏ –æ–±–µ—Ä—Ç–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ–ø–∞–ø–∞, –ø—Ä–æ–ø –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω',
        },
    }}
>
    {args => {
        const Example = () => {
            const [isPopupOpen, setIsPopupOpen] = useState(false);
            return (
                <div>
                    <Button onClick={() => setIsPopupOpen(true)}>–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø</Button>
                    <Popup isOpen={isPopupOpen} onRequestClose={() => setIsPopupOpen(false)} {...args}>
                        <Popup.Body>
                            <p>
                                Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perspiciatis quae saepe
                                provident autem ducimus voluptates eaque, cum reiciendis culpa excepturi, magnam maxime
                                beatae quod exercitationem. Consequatur recusandae fuga adipisci eos.
                            </p>
                            <p>
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed in voluptates dolores!
                                Voluptas quibusdam perspiciatis fugiat, perferendis nisi similique temporibus beatae
                                deleniti. Commodi id nobis voluptatibus eligendi autem? In, voluptatibus.
                            </p>
                            <p>
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed in voluptates dolores!
                                Voluptas quibusdam perspiciatis fugiat, perferendis nisi similique temporibus beatae
                                deleniti. Commodi id nobis voluptatibus eligendi autem? In, voluptatibus.
                            </p>
                            <p>
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed in voluptates dolores!
                                Voluptas quibusdam perspiciatis fugiat, perferendis nisi similique temporibus beatae
                                deleniti. Commodi id nobis voluptatibus eligendi autem? In, voluptatibus.
                            </p>
                            <p>
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed in voluptates dolores!
                                Voluptas quibusdam perspiciatis fugiat, perferendis nisi similique temporibus beatae
                                deleniti. Commodi id nobis voluptatibus eligendi autem? In, voluptatibus.
                            </p>
                            <p>
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed in voluptates dolores!
                                Voluptas quibusdam perspiciatis fugiat, perferendis nisi similique temporibus beatae
                                deleniti. Commodi id nobis voluptatibus eligendi autem? In, voluptatibus.
                            </p>
                            <p>
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed in voluptates dolores!
                                Voluptas quibusdam perspiciatis fugiat, perferendis nisi similique temporibus beatae
                                deleniti. Commodi id nobis voluptatibus eligendi autem? In, voluptatibus.
                            </p>
                            <p>
                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed in voluptates dolores!
                                Voluptas quibusdam perspiciatis fugiat, perferendis nisi similique temporibus beatae
                                deleniti. Commodi id nobis voluptatibus eligendi autem? In, voluptatibus.
                            </p>
                        </Popup.Body>
                        <Popup.Footer>
                            <Button onClick={() => setIsPopupOpen(false)}>–ó–∞–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø</Button>
                            <Button theme="secondary">–•–æ—Ä–æ—à–æ</Button>
                        </Popup.Footer>
                    </Popup>
                </div>
            );
        };
        return <Example />;
    }}
</Story>

## Props

<ArgsTable story="Controls" />

–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å—Ç—Ä–æ—è—Ç—Å—è –≤—Å–µ –ø–æ–ø–∞–ø—ã –ø—Ä–æ–µ–∫—Ç–∞. –í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –¥–≤–∏–∂–æ–∫ –∏ –±–∞–∑–æ–≤—É—é —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—é.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–ª–∞–≥–∏–Ω: [react-modal](http://reactcommunity.org/react-modal/)

–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: [WAI-ARIA](https://www.w3.org/TR/wai-aria-practices/#dialog_modal)

–ü–æ–ø–∞–ø—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫—Å–µ—Å—Å–∞–±–∏–ª—å–Ω—ã: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–µ—Ä–µ–Ω–æ—Å —Ñ–æ–∫—É—Å–∞ –≤–Ω—É—Ç—Ä—å –ø–æ–ø–∞–ø–∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ, focus trapping –≤ —Ä–∞–º–∫–∞—Ö –ø–æ–ø–∞–ø–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ Esc –∏ –∫–ª–∏–∫–∞ –ø–æ –æ–≤–µ—Ä–ª–µ—é.

–ü–æ–ø–∞–ø –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ü—Ä–∏ —ç—Ç–æ–º –æ–Ω –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –Ω–∞ —É—Ä–æ–≤–µ–Ω—å body —á–µ—Ä–µ–∑ **Portals API**. –ü–æ—Ä—Ç–∞–ª —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –≤ —Ä–∞–∑–º–µ—Ç–∫–µ –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –æ—Å–Ω–æ–≤–µ, —É—Å–ª–æ–≤–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç **Popup** –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ä–∞–∑–º–µ—Ç–∫—É –±–µ–∑ —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ –æ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–æ–ø—Å–∞ **isOpen**, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–≥–æ —á–µ—Ä–µ–∑ state.

–î–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–∫—Ä–æ–ª–ª–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω –ø–ª–∞–≥–∏–Ω [body-scroll-lock](https://github.com/willmcpo/body-scroll-lock).

‚òùüèø –ß—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∫—Ä–æ–ª–ª –ª–æ–∫–∞ –Ω–∞ –¥–µ–≤–∞–π—Å–∞—Ö –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç–æ—Ä–∏—Å scroll lock –≤ —Ä–µ–∂–∏–º–µ **Canvas** –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —Ç.–∫. –ø–ª–∞–≥–∏–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ —Ñ—Ä–µ–π–º–∞ (–∞ –≤—Å–µ —Å—Ç–æ—Ä–∏—Å—ã –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–∏—Ö).

–ü–æ–ø–∞–ø –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–ø–∞–ø–∞ - —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏. **Popup** - —ç—Ç–æ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ–±—ë—Ä—Ç–∫–∞, —Ä–µ–∞–ª–∏–∑—É—é—â–∞—è –ª–æ–≥–∏–∫—É –ø–æ–ø–∞–ø–æ–≤ –∏ –Ω–µ –Ω–µ—Å—É—â–∞—è –∑–∞ —Å–æ–±–æ–π –Ω–∏–∫–∞–∫–æ–π —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –í –∫–∞—á–µ—Å—Ç–≤–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ª—é–±–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–ª–∏ –≥—Ä—É–ø–ø–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –≤ –µ–≥–æ –≥–∏–±–∫–æ—Å—Ç–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å code splitting –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ. –≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä –µ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è, —Ç.–∫. –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç –ø–æ–ø–∞–ø –ø—Ä–∏ –ø–µ—Ä–≤–∏—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ, –∞ –ø–æ—è–≤–ª–µ–Ω–∏–µ –µ–≥–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç—Ä–∏–≥–≥–µ—Ä–∞.

–°—Ç–∏–ª–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ –≤ \_app.tsx –∏ –≤ —Å—Ç–æ—Ä–∏ –≤ —Å—Ç–æ—Ä–∏–±—É–∫–µ. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ —É–º—ã—à–ª–µ–Ω–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø–æ–¥—Ö–æ–¥, –≥–¥–µ —Å—Ç–∏–ª–∏ –¥–æ–±–∞–≤–ª—è–ª–∏—Å—å –≤ `<Global />` —á–µ—Ä–µ–∑ emotion, –¥—É–±–ª–∏—Ä–æ–≤–∞–ª —Å—Ç–∏–ª–∏ —Å—Ç–æ–ª—å–∫–æ —Ä–∞–∑, —Å–∫–æ–ª—å–∫–æ –ø–æ–ø–∞–ø–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ + –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–µ—Ä–µ—Ç–∏—Ä–∞–ª–∏ —Å—Ç–∏–ª–∏ –ø–µ—Ä–≤–æ–≥–æ.

## –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –î–ª—è –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ —Ñ–æ–∫—É—Å–∞ –∏ AT –ø–æ–ø–∞–ø—ã –≤—ã–Ω–æ—Å—è—Ç—Å—è —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç–∞–ª—ã –Ω–∞ —É—Ä–æ–≤–µ–Ω—å body –≤–Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (root). –≠—Ç—É —Ä–∞–±–æ—Ç—É –¥–µ–ª–∞–µ—Ç **react-modal** –∑–∞ –Ω–∞—Å: –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É —Ñ–æ–∫—É—Å–∞ –Ω–∞ –ø–æ–ø–∞–ø –∏ –æ–±—Ä–∞—Ç–Ω–æ, –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç focus trapping –≤ —Ä–∞–º–∫–∞—Ö –ø–æ–ø–∞–ø–∞ –∏ —Å—Ç–∞–≤–∏—Ç aria-hidden –Ω–∞ root.

1. –ö–ª–∞—Å—Å popup –∏–º–µ–µ—Ç —Å–∞–º –ø–æ—Ä—Ç–∞–ª, —Ç.–∫. –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ø–∞–ø–∞ –ø–æ—Ä—Ç–∞–ª —Å–≤–æ–π. –¢–∞–∫ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –ø–æ–ø–∞–ø–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤—Ç–æ—Ä–æ–π –ø–æ—Ä—Ç–∞–ª —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –ø–æ–ø–∞–ø–∞, –∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø–æ–ø–∞–ø –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ –≤ —Å–≤–æ—ë–º –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ä—Ç–∞–ª–µ.
1. –í–Ω—É—Ç—Ä–∏ –ø–æ–ø–∞–ø–∞ 2 –æ–±—ë—Ä—Ç–∫–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ **react-modal**: **overlay** –∏ **content**. Overlay - —Ä–∞—Å—Ç—è–Ω—É—Ç –Ω–∞ –≤—å—é–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ position: fixed, content - –ª–µ–∂–∏—Ç –≤–Ω—É—Ç—Ä–∏ –æ–≤–µ—Ä–ª–µ—è –∏ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ª—é–±—É—é –≤—ã—Å–æ—Ç—É. –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –≤—ã—Å–æ—Ç—ã –≤—å—é–ø–æ—Ä—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–∫—Ä–æ–ª–ª.
1. –ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ø–∞–ø–æ–≤ —á–µ—Ä–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—É popup -> overlay -> content —Å–∫—Ä–æ–ª–ª –≤–æ–∑–º–æ–∂–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–∫—Ä–æ–ª–ª–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–≤–µ—Ä–ª–µ—è –Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ popup -> overlay -> wrapper -> content. –¢.–∫. –º—ã –Ω–µ –º–æ–∂–µ–º –≤–ª–∏—è—Ç—å –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É **react-modal**, —Ç–æ content –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω –≤–æ–∫—Ä—É–≥ children, –∞ –≤–º–µ—Å—Ç–æ contentClasses (react-modal className prop) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–ª–∞—Å—Å—ã wrapper. –¢–∞–∫ —á—Ç–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ–º–æ (–Ω–æ —Å–º—ã—Å–ª–∞ –≤ —ç—Ç–æ–º –º–∞–ª–æ).
1. –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ flex. –ü—Ä–∏ —ç—Ç–æ–º —á—Ç–æ–±—ã –≤—ã—Å–æ–∫–∏–µ –ø–æ–ø–∞–ø—ã –Ω–µ —Ä–µ–∑–∞–ª–∏—Å—å –ø–æ –≤—å—é–ø–æ—Ä—Ç—É –∫–æ–Ω—Ç–µ–Ω—Ç—É –¥–æ–±–∞–≤–ª–µ–Ω max-height: '100%'. –≠—Ç–æ –∂–µ –ø—Ä–∞–≤–∏–ª–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å overflow.

## Use cases

### Basic

<Canvas>
    <Story name="Basic">
        {() => {
            const Example = () => {
                const [isPopupOpen, setIsPopupOpen] = useState(false);
                return (
                    <div>
                        <Button onClick={() => setIsPopupOpen(true)}>–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø</Button>
                        <Popup isOpen={isPopupOpen} onRequestClose={() => setIsPopupOpen(false)} title="–ó–∞–≥–æ–ª–æ–≤–æ–∫">
                            <Popup.Body>–ö–æ–Ω—Ç–µ–Ω—Ç</Popup.Body>
                        </Popup>
                    </div>
                );
            };
            return <Example />;
        }}
    </Story>
</Canvas>

### Visually hidden title

–ï—Å–ª–∏ —É –ø–æ–ø–∞–ø–∞ –Ω–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞, —Ç–æ –≤–º–µ—Å—Ç–æ **title** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **contentLabel** –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Å–∫—Ä—ã—Ç–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –¥–ª—è —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–æ–≤.

<Canvas>
    <Story name="Visually hidden title">
        {() => {
            const Example = () => {
                const [isPopupOpen, setIsPopupOpen] = useState(false);
                return (
                    <div>
                        <Button onClick={() => setIsPopupOpen(true)}>–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø</Button>
                        <Popup
                            isOpen={isPopupOpen}
                            onRequestClose={() => setIsPopupOpen(false)}
                            contentLabel="–ó–∞–≥–æ–ª–æ–≤–æ–∫"
                            isCloseBtn={false}
                        >
                            <Popup.Body>–ö–æ–Ω—Ç–µ–Ω—Ç</Popup.Body>
                        </Popup>
                    </div>
                );
            };
            return <Example />;
        }}
    </Story>
</Canvas>

### Inner popup

–í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–ø–∞–ø—ã —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è.

<Canvas>
    <Story name="Inner popup">
        {() => {
            const Example = () => {
                const [isPopupOpen, setIsPopupOpen] = useState(false);
                const [isInnerPopupOpen, setIsInnerPopupOpen] = useState(false);
                return (
                    <div>
                        <Button onClick={() => setIsPopupOpen(true)}>–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø</Button>
                        <Popup
                            isOpen={isPopupOpen}
                            onRequestClose={() => setIsPopupOpen(false)}
                            id="outer-popup"
                            title="–í–Ω–µ—à–Ω–∏–π –ø–æ–ø–∞–ø"
                        >
                            <Popup.Body>–ö–æ–Ω—Ç–µ–Ω—Ç</Popup.Body>
                            <Popup.Footer>
                                <Button onClick={() => setIsInnerPopupOpen(true)}>Open inner popup</Button>
                                <Popup
                                    isOpen={isInnerPopupOpen}
                                    onRequestClose={() => setIsInnerPopupOpen(false)}
                                    id="inner-popup"
                                    title="–í–ª–æ–∂–µ–Ω–Ω—ã–π –ø–æ–ø–∞–ø"
                                >
                                    <Popup.Body>–ö–æ–Ω—Ç–µ–Ω—Ç</Popup.Body>
                                </Popup>
                            </Popup.Footer>
                        </Popup>
                    </div>
                );
            };
            return <Example />;
        }}
    </Story>
</Canvas>

### With Form

–î–ª—è —Ñ–æ—Ä–º, –≤–æ –≤—Å—é –≤—ã—Å–æ—Ç—É –Ω—É–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–∫–∏–¥—ã–≤–∞—Ç—å —Å—Ç–∏–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–ø css

<Canvas>
    <Story name="With Form">
        {() => {
            const Example = () => {
                const [isOpen, setIsOpen] = useState(false);
                const open = () => setIsOpen(true);
                const close = () => setIsOpen(false);
                return (
                    <div>
                        <Button onClick={open}>–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø</Button>
                        <Popup isOpen={isOpen} onRequestClose={close} title="–ü–æ–ø–∞–ø —Å —Ñ–æ—Ä–º–æ–π" rightHanded>
                            <Form
                                onSubmit={action('submit')}
                                initialValues={{ name: '' }}
                                validationSchema={Yup.object().shape({
                                    name: Yup.string().required('–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ'),
                                })}
                                css={{ display: 'flex', flexDirection: 'column', height: '100%' }}
                            >
                                <Popup.Body>
                                    <Form.FastField label="–í–∞—à–µ –∏–º—è" name="name" />
                                </Popup.Body>
                                <Popup.Footer>
                                    <Form.Reset onReset={close} theme="secondary">
                                        –û—Ç–º–µ–Ω–∏—Ç—å
                                    </Form.Reset>
                                    <Button type="Submit">–•–æ—Ä–æ—à–æ</Button>
                                </Popup.Footer>
                            </Form>
                        </Popup>
                    </div>
                );
            };
            return <Example />;
        }}
    </Story>
</Canvas>

### With modal

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –ø–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç css –ø—Ä–æ–ø. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å –∏–º. –í —Å—Ç–æ—Ä–∏–±—É–∫–µ –ø—Ä–æ–ø css –ø–æ—á–µ–º—É-—Ç–æ –ø–ª–æ—Ö–æ –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç.

<Canvas>
    <Story name="With modal">
        {() => {
            const Example = () => {
                const [isOpen, setIsOpen] = useState(false);
                const open = () => setIsOpen(true);
                const close = () => setIsOpen(false);
                return (
                    <div>
                        <Button onClick={open}>–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ø–∞–ø</Button>
                        <Popup
                            isOpen={isOpen}
                            onRequestClose={close}
                            contentLabel="–ó–∞–≥–æ–ª–æ–≤–æ–∫"
                            isCloseButton={false}
                            popupCss={{ padding: `${scale(5, true)}px ${scale(2)}px` }}
                        >
                            <Modal icon title="–ó–∞–≥–æ–ª–æ–≤–æ–∫" theme="white" css={{ border: 'none' }}>
                                –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–ª–∏ —Ä–µ–∞–∫—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
                            </Modal>
                            <Popup.Footer css={{ padding: 0, border: 'none' }}>
                                <Button onClick={close} theme="dangerous">
                                    –û—Ç–º–µ–Ω–∏—Ç—å
                                </Button>
                                <Button type="Submit">–•–æ—Ä–æ—à–æ</Button>
                            </Popup.Footer>
                        </Popup>
                    </div>
                );
            };
            return <Example />;
        }}
    </Story>
</Canvas>
